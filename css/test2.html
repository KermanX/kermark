<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />

  <title>UCON: Layout System | _Kerman&#39;s Website</title>

  <meta name="generator" content="Hugo Eureka 0.9.0" />
  <link rel="stylesheet" href="https://KermanX.github.io/css/eureka.min.css" />
  <script defer src="https://KermanX.github.io/js/eureka.min.js"></script>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    rel="preload"
    href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap"
    as="style"
    onload="this.onload=null;this.rel='stylesheet'"
  />

  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css"
    media="print"
    onload="this.media='all';this.onload=null"
    crossorigin
  />
  <script
    defer
    src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js"
    crossorigin
  ></script>

  <script
    defer
    src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/dart.min.js"
    crossorigin
  ></script>

  <script
    defer
    src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js"
    integrity="sha256-uNYoXefWRqv&#43;PsIF/OflNmwtKM4lStn9yrz2gVl6ymo="
    crossorigin
  ></script>

  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"
    media="print"
    onload="this.media='all';this.onload=null"
    crossorigin
  />
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"
    integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"
    crossorigin
  ></script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
    integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"
    crossorigin
  ></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      renderMathInElement(document.body, {
        delimiters: [
          { left: "$$", right: "$$", display: true },
          { left: "$", right: "$", display: false },
          { left: "\\(", right: "\\)", display: false },
          { left: "\\[", right: "\\]", display: true },
        ],
      });
    });
  </script>

  <script
    defer
    src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js"
    integrity="sha256-Zmpaaj&#43;GXFsPF5WdPArSrnW3b30dovldeKsW00xBVwE="
    crossorigin
  ></script>

  <link rel="stylesheet" href="https://unpkg.com/lxgw-wenkai-lite-webfont" />
  <style>
    body {
      font-family: "LXGW WenKai Lite", ui-sans-serif, system-ui, -apple-system,
        BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans,
        sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol,
        Noto Color Emoji;
    }
  </style>
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="https://KermanX.github.io/images/icon_hu8fca02eec5c971ee301ebe8cc758c56f_344595_32x32_fill_box_center_2.png"
  />
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="https://KermanX.github.io/images/icon_hu8fca02eec5c971ee301ebe8cc758c56f_344595_180x180_fill_box_center_2.png"
  />

  <meta
    name="description"
    content="写一点上上周想到的。直接来到正题 失败的尝试 当时在为ucon想一个布局的方法，这个方法对于UCON呢，就相当于CSS对于网页。 但是我们不能用CSS，因为"
  />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Posts",
          "item": "https://KermanX.github.io/posts/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "UCON: Layout System",
          "item": "https://KermanX.github.io/posts/ucon-layout-system/"
        }
      ]
    }
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://KermanX.github.io/posts/ucon-layout-system/"
      },
      "headline": "UCON: Layout System | _Kerman\u0027s Website",
      "datePublished": "2022-05-29T15:32:20+08:00",
      "dateModified": "2022-05-29T15:32:20+08:00",
      "wordCount": 931,
      "publisher": {
        "@type": "Person",
        "name": "_Kerman",
        "logo": {
          "@type": "ImageObject",
          "url": "https://KermanX.github.io/images/icon.png"
        }
      },
      "description": "写一点上上周想到的。直接来到正题 失败的尝试 当时在为ucon想一个布局的方法，这个方法对于UCON呢，就相当于CSS对于网页。 但是我们不能用CSS，因为"
    }
  </script>
  <meta
    property="og:title"
    content="UCON: Layout System | _Kerman&#39;s Website"
  />
  <meta property="og:type" content="article" />

  <meta
    property="og:image"
    content="https://KermanX.github.io/images/icon.png"
  />

  <meta
    property="og:url"
    content="https://KermanX.github.io/posts/ucon-layout-system/"
  />

  <meta
    property="og:description"
    content="写一点上上周想到的。直接来到正题 失败的尝试 当时在为ucon想一个布局的方法，这个方法对于UCON呢，就相当于CSS对于网页。 但是我们不能用CSS，因为"
  />

  <meta property="og:locale" content="zh" />

  <meta property="og:site_name" content="_Kerman&#39;s Website" />

  <meta
    property="article:published_time"
    content="2022-05-29T15:32:20&#43;08:00"
  />

  <meta
    property="article:modified_time"
    content="2022-05-29T15:32:20&#43;08:00"
  />

  <meta property="article:section" content="posts" />

  <body class="flex flex-col min-h-screen">
    <header
      class="fixed flex items-center w-full min-h-16 ps-scrollbar z-50 bg-secondary-bg shadow-sm"
    >
      <div class="w-full max-w-screen-xl mx-auto">
        <script>
          let storageColorScheme = localStorage.getItem("lightDarkMode");
          if (
            ((storageColorScheme == "Auto" || storageColorScheme == null) &&
              window.matchMedia("(prefers-color-scheme: dark)").matches) ||
            storageColorScheme == "Dark"
          ) {
            document.getElementsByTagName("html")[0].classList.add("dark");
          }
        </script>
        <nav
          class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"
        >
          <a href="/" class="me-6 text-primary-text text-xl font-bold"
            >_Kerman&#39;s Website</a
          >
          <button
            id="navbar-btn"
            class="md:hidden flex items-center px-3 py-2"
            aria-label="Open Navbar"
          >
            <i class="fas fa-bars"></i>
          </button>

          <div
            id="target"
            class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"
          >
            <div
              class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0"
            >
              <a
                href="/#about"
                class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4"
                >简介</a
              >
              <a
                href="/posts/"
                class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item me-4"
                >文章</a
              >
            </div>

            <div class="flex">
              <div class="relative pt-4 md:pt-0">
                <div
                  class="cursor-pointer hover:text-eureka"
                  id="lightDarkMode"
                >
                  <i class="fas fa-adjust"></i>
                </div>
                <div
                  class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30"
                  id="is-open"
                ></div>
                <div
                  class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                  id="lightDarkOptions"
                >
                  <span class="px-4 py-1 hover:text-eureka" name="Light"
                    >浅色</span
                  >
                  <span class="px-4 py-1 hover:text-eureka" name="Dark"
                    >深色</span
                  >
                  <span class="px-4 py-1 hover:text-eureka" name="Auto"
                    >自动</span
                  >
                </div>
              </div>
            </div>
          </div>

          <div
            class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0"
            id="is-open-mobile"
          ></div>
        </nav>
        <script>
          let element = document.getElementById("lightDarkMode");
          if (storageColorScheme == null || storageColorScheme == "Auto") {
            document.addEventListener("DOMContentLoaded", () => {
              window
                .matchMedia("(prefers-color-scheme: dark)")
                .addEventListener("change", switchDarkMode);
            });
          } else if (storageColorScheme == "Light") {
            element.firstElementChild.classList.remove("fa-adjust");
            element.firstElementChild.setAttribute("data-icon", "sun");
            element.firstElementChild.classList.add("fa-sun");
          } else if (storageColorScheme == "Dark") {
            element.firstElementChild.classList.remove("fa-adjust");
            element.firstElementChild.setAttribute("data-icon", "moon");
            element.firstElementChild.classList.add("fa-moon");
          }

          document.addEventListener("DOMContentLoaded", () => {
            getcolorscheme();
            switchBurger();
          });
        </script>
      </div>
    </header>
    <main class="grow pt-16">
      <div class="ps-scrollbar">
        <div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto">
          <div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12">
            <div
              class="col-span-2 lg:col-span-6 bg-secondary-bg rounded px-6 py-8"
            >
              <h1 class="font-bold text-3xl text-primary-text">
                UCON: Layout System
              </h1>
              <div
                class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text"
              >
                <div class="me-6 my-2">
                  <i class="fas fa-calendar me-1"></i>
                  <span>2022-05-29</span>
                </div>
                <div class="me-6 my-2">
                  <i class="fas fa-clock me-1"></i>
                  <span>2分钟阅读时长</span>
                </div>
              </div>

              <div class="content">
                <p>
                  写一点上上周想到的。<a
                    href="#%E6%96%B0%E7%9A%84%E6%80%9D%E8%B7%AF"
                    ><botton style="margin-left: 30px; border: 1px black solid"
                      >直接来到正题</botton
                    ></a
                  >
                </p>
                <h2 id="失败的尝试">失败的尝试</h2>
                <p>
                  当时在为ucon想一个布局的方法，这个方法对于UCON呢，就相当于CSS对于网页。
                </p>
                <p>但是我们不能用CSS，因为：</p>
                <ul>
                  <li>
                    <p>
                      内容庞大，我无法实现，也就意味着不能满足非浏览器的运行环境
                    </p>
                  </li>
                  <li>
                    <p>没意思，重复造轮子的行为</p>
                  </li>
                </ul>
                <p>
                  CSS是控制所有样式的，而我这个标题，Layout
                  System，就是处理布局的。
                </p>
                <p>
                  所以当时初步设计了一个布局系统，总体上模式有点像CSS的简化版，无非是<code>block</code>,<code>inline</code>之类的。
                </p>
                <p>
                  但是突出<code>float</code>属性的作用，以及宽、高可以控制范围。
                </p>
                <p>
                  然后试着写了写实现代码，直接就失败了，因为逻辑矛盾太多，一不小心就要进入死循环。要破除，只能加很多规则去约束他，那还不如本来的CSS的布局系统。
                </p>
                <p>那就没意思了。</p>
                <h2 id="新的思路">新的思路</h2>
                <p>
                  一些软件里（尤其是制图、UI设计之类的），会有一个对齐功能。
                </p>
                <p>
                  但是这是对齐，我计划设计一个模式，一切东西都用某种基准线来定位，姑且叫这种基准线stick。
                </p>
                <blockquote>
                  <p><strong>举个例子</strong>：</p>
                  <p>一个按钮，坐标(10px,10px)，宽40px，高20px。</p>
                  <p><strong>CSS</strong>:</p>
                  <pre><code class="language-css">button{
    position:absolute;
    left:10px;
    top:10px;
    width:40px;
    height:20px;
}
</code></pre>
                  <p><strong>UCON</strong>：</p>
                  <ul>
                    <li>
                      <p>
                        定义v-stick（vertical
                        stick），绝对（或者说相对于app），10px，就叫left
                      </p>
                    </li>
                    <li>
                      <p>定义v-stick，left+40px，叫right</p>
                    </li>
                    <li>
                      <p>定义h-stick（horizontal stick），绝对，10px，叫top</p>
                    </li>
                    <li>
                      <p>定义h-stick，top+20px，叫bottom</p>
                    </li>
                    <li>
                      <p>button的位置：{left,right,top,bottom}</p>
                    </li>
                  </ul>
                </blockquote>
                <p>看上去，UCON的这套麻烦一点</p>
                <p>其实不然。这是伪代码，实际实现起来会有如下功能：</p>
                <ul>
                  <li>
                    <p>名字不必自己给，有一定的算法生成</p>
                  </li>
                  <li>
                    <p>
                      有快速生成的工具函数，只要用，就可以写得和CSS的一样，比如：
                    </p>
                    <ul>
                      <li>
                        <p>矩形</p>
                      </li>
                      <li>
                        <p>取中（心）点</p>
                      </li>
                      <li>
                        <p>根据点生成h&amp;v-stick</p>
                      </li>
                      <li>
                        <p>&hellip;</p>
                      </li>
                    </ul>
                  </li>
                </ul>
                <p>这是开发者方面的，对于运行时，也有好处：</p>
                <ul>
                  <li>
                    <p>直接生成的依赖树，更新视图时效率极高</p>
                  </li>
                  <li>
                    <p>计算量小，不用像CSS那样要考虑很多东西</p>
                  </li>
                </ul>
                <p>关键的技术难题，应该还是语法糖和命名算法。</p>
                <h2 id="另这不是新的思路">另：这不是新的思路</h2>
                <ol>
                  <li>
                    <p>
                      好像初一做ucon的前身的前身的前身的buttons(in
                      cpp)时，好像就有过类似想法。可是当时太差了，搞不清楚（说不定我现在也搞不清楚），反正忘掉了啊。。。
                    </p>
                  </li>
                  <li>
                    <p>CSS这套真的强，在这个问题下，要不出逻辑漏洞真不简单。</p>
                  </li>
                </ol>
                <p>  此致</p>
                <p>敬礼！</p>
              </div>

              <div
                class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t"
              >
                <div></div>
                <div class="md:text-right mt-4 md:mt-0">
                  <span class="block font-bold">下一页</span>
                  <a
                    href="https://KermanX.github.io/posts/ucon-next/"
                    class="block"
                    >UCON: Next Generation</a
                  >
                </div>
              </div>
            </div>

            <div class="col-span-2">
              <div
                class="sticky top-16 z-10 hidden lg:block px-6 py-4 bg-primary-bg"
              >
                <span class="text-lg font-semibold">本页内容</span>
              </div>
              <div class="sticky-toc hidden lg:block px-6 pb-6">
                <nav id="TableOfContents">
                  <ul>
                    <li><a href="#失败的尝试">失败的尝试</a></li>
                    <li><a href="#新的思路">新的思路</a></li>
                    <li><a href="#另这不是新的思路">另：这不是新的思路</a></li>
                  </ul>
                </nav>
              </div>
              <script>
                window.addEventListener("DOMContentLoaded", () => {
                  enableStickyToc();
                });
              </script>
            </div>
          </div>
          <script>
            document.addEventListener("DOMContentLoaded", () => {
              hljs.initHighlightingOnLoad();
            });
          </script>
        </div>
      </div>
    </main>
    <footer class="ps-scrollbar">
      <div class="w-full max-w-screen-xl mx-auto">
        <div class="text-center p-6 pin-b">
          <p class="text-sm text-tertiary-text">
            &copy; 2022 _Kerman &middot; Powered by the
            <a
              href="https://github.com/wangchucheng/hugo-eureka"
              class="hover:text-eureka"
              >Eureka</a
            >
            theme for
            <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a>
          </p>
        </div>
      </div>
    </footer>
  </body>
</html>
